# 호스트 포트와 컨테이너 포트의 차이

Docker에서 컨테이너는 기본적으로 격리된 네트워크 공간에서 실행됩니다.  
즉, 컨테이너 내부에서 실행 중인 애플리케이션은 외부에서 직접 접근할 수 없습니다.  
외부에서 접근하려면 **포트 포워딩(port forwarding)** 설정을 통해 **호스트 포트와 컨테이너 포트를 연결**해야 합니다.

---

## ✅ 개념 정리

| 구분           | 설명 |
|----------------|------|
| **호스트 포트** | 내 컴퓨터(macOS, Linux 등)에서 사용하는 포트 |
| **컨테이너 포트** | 컨테이너 내부에서 실행되는 서비스(Flask, Node 등)가 사용하는 포트 |

예를 들어, Flask 앱이 컨테이너 내부에서 80번 포트로 실행된다면:

```bash
docker run -p 8080:80 python_david
호스트 포트: 8080
컨테이너 포트: 80
위 설정은 **"호스트의 8080 포트로 접속 시 → 컨테이너의 80 포트로 전달"**하도록 설정하는 것입니다.

📌 실습 예시

# Flask 앱을 컨테이너에서 80번 포트로 실행
app.run(host="0.0.0.0", port=80)
# 호스트의 8080 포트를 컨테이너의 80 포트에 연결
docker run -p 8080:80 python_david
→ 접속 방법: 브라우저에서 http://localhost:8080

⚠️ 주의사항

한 번에 하나의 컨테이너만 호스트의 특정 포트를 사용할 수 있습니다.
예: 이미 80번 포트를 사용하는 컨테이너가 있을 경우, 다른 컨테이너에서 다시 80번 포트를 쓸 수 없습니다.
컨테이너 포트는 여러 개의 컨테이너에서 동일하게 사용 가능하지만, 호스트 포트는 중복 불가입니다.
✅ 요약

Docker의 -p [호스트 포트]:[컨테이너 포트] 옵션은 컨테이너와 외부의 통신을 가능하게 해줍니다.
컨테이너 내부 포트는 app.py 등 서비스가 실제로 사용하는 포트와 일치해야 하며, 외부 접근은 호스트 포트를 통해 이루어집니다.