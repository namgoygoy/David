# Git merge vs rebase

## 1. git merge란?

`git merge`는 두 브랜치의 변경 사항을 **새로운 커밋(Merge Commit)** 으로 합치는 방식이다.  
예를 들어 `add-image` 브랜치를 `main`에 병합하면,  
`main` 브랜치의 가장 마지막 커밋 위에 `add-image`의 변경사항이 합쳐지며,  
**이 과정을 명확히 나타내는 하나의 병합 커밋**이 생성된다.

### ✅ 장점
- 이력이 명확하게 병합된 시점을 보여줌
- 협업 시 누가 어떤 브랜치에서 작업했는지를 추적하기 쉬움
- 커밋 히스토리를 변경하지 않기 때문에 안전함

---

## 2. git rebase란?

`git rebase`는 다른 브랜치의 변경사항을 기준으로  
**현재 브랜치의 커밋들을 다시 쌓는(reapply) 방식**이다.  
브랜치를 병합하지 않고 **내 커밋을 깔끔하게 이어 붙이는 방식**이라고 보면 된다.

### ✅ 장점
- 히스토리가 깔끔하고 일관성 있게 정리됨
- 마치 브랜치 없이 한 줄로 작업한 것처럼 보임
- `git log`가 보기 좋아지고 디버깅이나 리뷰가 쉬워짐

### ⚠️ 주의할 점
- 커밋 이력이 새로 쓰이기 때문에(commit hash 변경)  
  이미 **공유된 브랜치에서 rebase하면 충돌 발생 위험이 있음**
- 협업 중인 브랜치(main, develop 등)에서는 사용 주의

---

## 3. merge vs rebase 비교

| 항목             | merge                        | rebase                              |
|------------------|------------------------------|--------------------------------------|
| 커밋 이력 유지   | ✅ 병합 커밋 포함             | ❌ 이력이 다시 써짐 (hash 변경)     |
| 히스토리 구조     | 브랜치가 갈라졌다 다시 합쳐짐 | 마치 처음부터 한 줄로 작업한 것처럼 정렬됨 |
| 협업 적합성      | ✅ 안전함                      | ⚠️ 공유 브랜치에서는 위험함          |
| 충돌 처리 위치   | 병합 시점                     | 커밋 하나하나 적용 시마다 발생       |
| 사용 권장 상황   | 협업, 공용 브랜치 병합        | 개인 브랜치 정리                     |

---

## 4. 협업 시 merge를 추천하는 이유

- `merge`는 **다른 사람의 이력에 영향을 주지 않기 때문에 안전함**
- 반면, `rebase`는 히스토리를 변경하므로  
  이미 푸시된 커밋을 rebase할 경우 **동료들과 충돌(conflict)이 발생할 수 있음**
- 특히 협업 브랜치(main, develop 등)는 안정성이 중요하므로  
  **이력 보호를 위해 merge 사용이 원칙**

---

## 5. 요약

| 상황                          | 추천 방식 |
|-------------------------------|------------|
| 혼자서 기능 브랜치 개발 중     | ✅ `rebase` (히스토리 깔끔하게 정리) |
| 여러 명이 같이 작업 중         | ✅ `merge` (충돌 없이 안전하게 이력 보존) |
| 협업 브랜치(main, develop 등) | ❌ `rebase` 금지, 🔐 `merge`만 사용 |

---

